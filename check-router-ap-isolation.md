# 检查路由器 AP 隔离设置

## 什么是 AP 隔离？

AP 隔离（Client Isolation）会阻止同一 WiFi 下的设备互相访问。

```
AP 隔离开启时：                    AP 隔离关闭时：
┌─────────────┐                   ┌─────────────┐
│  你的电脑    │ ❌ 无法通信       │  你的电脑    │ ✅ 可以通信
│192.168.2.215│◄────────────────►│192.168.2.215│◄─────────────►
└─────────────┘                   └─────────────┘
       ↑                                 ↑
       │                                 │
┌─────────────┐                   ┌─────────────┐
│   手机      │                   │   手机      │
│192.168.2.104│                   │192.168.2.104│
└─────────────┘                   └─────────────┘
```

## 如何检查 AP 隔离

### 方法 1：Ping 测试（最简单）

在手机上安装「网络诊断」类 App（如：Fing、PingTools），然后：

```
Ping 192.168.2.215
```

- 如果 **能 Ping 通** → AP 隔离已关闭 ✅
- 如果 **Ping 不通** → AP 隔离可能开启 ❌

### 方法 2：查看路由器设置

登录路由器管理界面 http://192.168.2.1，查找以下选项：

| 品牌 | 位置 | 选项名称 |
|------|------|---------|
| TP-Link | 无线设置 → 高级 | AP Isolation / 客户端隔离 |
| 华硕 ASUS | 无线网络 → 专业设置 | 禁止无线用户互通 |
| 小米 | WiFi设置 → 高级 | AP 隔离 |
| 华为 | 更多功能 → WiFi设置 | 终端隔离 |
| Tenda | 无线设置 | 客户端隔离 |
| 通用 | 无线高级设置 | Client Isolation / 用户隔离 |

**找到后，确保设置为「关闭」或「禁用」**

## 常见路由器关闭 AP 隔离步骤

### TP-Link

1. 浏览器访问 http://192.168.2.1 或 http://tplogin.cn
2. 登录（用户名密码通常在路由器底部）
3. 进入「无线设置」→「高级设置」
4. 找到「AP 隔离」或「客户端隔离」
5. 选择「禁用」
6. 保存并重启路由器

### 小米路由器

1. 访问 http://192.168.31.1 或 http://miwifi.com
2. 进入「常用设置」→「WiFi 设置」
3. 点击「高级选项」
4. 关闭「AP 隔离」
5. 保存

### 华硕 ASUS

1. 访问 http://192.168.2.1 或 http://router.asus.com
2. 进入「无线网络」→「专业设置」
3. 找到「禁止无线用户互通」
4. 选择「否」
5. 应用设置

## 临时绕过方案

如果无法关闭 AP 隔离，可以使用：

### 方案 1：使用 USB 共享网络
将手机通过 USB 连接到电脑，开启「USB 网络共享」，手机会使用电脑的网络，此时访问 localhost 即可。

### 方案 2：使用蓝牙网络共享
手机和电脑配对后，开启蓝牙网络共享。

### 方案 3：使用 Ngrok（公网穿透）
```bash
ngrok http 8080
```
手机使用生成的公网链接访问。
